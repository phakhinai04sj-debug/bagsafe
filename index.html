<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Airport Kiosk PRO 5.0</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:Arial, sans-serif;
  background:#0b1220;
  color:white;
  text-align:center;
  overflow-x:hidden;
}

/* ================= HEADER ================= */

header{
  background:#111827;
  padding:80px 20px 25px;
  position:sticky;
  top:0;
  z-index:100;
}

h1{
  font-size:clamp(20px,4vw,30px);
  margin-bottom:8px;
}

#instruction{
  font-size:clamp(14px,2.5vw,18px);
  opacity:.9;
}

.top-bar{
  position:absolute;
  top:15px;
  right:20px;
}

.menu-btn{
  font-size:28px;
  background:none;
  border:none;
  color:white;
  cursor:pointer;
}

/* ===== LANGUAGE CENTER ===== */

.lang-center{
  position:absolute;
  top:15px;
  left:50%;
  transform:translateX(-50%);
}

.lang-btn{
  font-size:26px;
  background:none;
  border:none;
  color:white;
  cursor:pointer;
  transition:.3s;
}

.lang-btn:hover{
  transform:scale(1.2);
}

.lang-dropdown{
  position:absolute;
  top:45px;
  left:50%;
  transform:translateX(-50%) scale(.95);
  background:#1f2937;
  border-radius:14px;
  padding:10px;
  min-width:230px;
  box-shadow:0 8px 25px rgba(0,0,0,.5);
  opacity:0;
  pointer-events:none;
  transition:.25s;
}

.lang-dropdown.show{
  opacity:1;
  pointer-events:auto;
  transform:translateX(-50%) scale(1);
}

.lang-dropdown button{
  width:100%;
  padding:9px;
  border:none;
  background:none;
  color:white;
  text-align:left;
  border-radius:8px;
  cursor:pointer;
}

.lang-dropdown button:hover{
  background:#374151;
}

/* ===== RIGHT MENU ===== */

.dropdown{
  display:none;
  position:absolute;
  right:0;
  top:45px;
  background:#1f2937;
  border-radius:12px;
  padding:10px;
  min-width:200px;
}

.dropdown button{
  width:100%;
  padding:10px;
  background:none;
  border:none;
  color:white;
  text-align:left;
  cursor:pointer;
  border-radius:8px;
}

.dropdown button:hover{
  background:#374151;
}

/* ================= CARDS ================= */

.card-group{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:20px;
  padding:30px;
}

.card{
  background:#1f2937;
  border-radius:20px;
  min-height:180px;
  padding:15px;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
  transition:.3s;
  font-size:clamp(14px,2vw,18px);
  text-align:center;
  word-wrap:break-word;
}

.card:hover{
  transform:scale(1.05);
  background:#334155;
}

.card.selected{
  background:#b91c1c;
}

/* ================= MESSAGE ================= */

.message{
  font-size:clamp(18px,3vw,24px);
  min-height:40px;
  margin-top:10px;
}

.alert{
  color:#ff3b3b;
  animation:blink .6s infinite alternate;
}

@keyframes blink{
  from{opacity:1}
  to{opacity:.5}
}

/* ================= ADMIN ================= */

.admin-panel{
  display:none;
  background:#1f2937;
  margin:20px;
  padding:20px;
  border-radius:15px;
}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}

td,th{
  border:1px solid #374151;
  padding:8px;
}

</style>
</head>

<body onclick="unlockAudio()">

<header>

<!-- RIGHT MENU -->
<div class="top-bar">
  <button class="menu-btn" onclick="toggleMenu()">â˜°</button>
  <div class="dropdown" id="menu">
    <button onclick="openAdmin()">ğŸ“Š Admin</button>
    <button onclick="toggleFullscreen()">ğŸ–¥ Fullscreen</button>
    <button onclick="resetAll()">ğŸ”„ Reset</button>
  </div>
</div>

<!-- CENTER LANGUAGE -->
<div class="lang-center">
  <button class="lang-btn" onclick="toggleLangMenu()">ğŸŒ</button>
  <div class="lang-dropdown" id="langMenu">
    <button onclick="changeLang('th')">ğŸ‡¹ğŸ‡­ à¹„à¸—à¸¢</button>
    <button onclick="changeLang('en')">ğŸ‡ºğŸ‡¸ English</button>
    <button onclick="changeLang('zh')">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
    <button onclick="changeLang('ja')">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
    <button onclick="changeLang('ko')">ğŸ‡°ğŸ‡· í•œêµ­ì–´</button>
    <button onclick="changeLang('es')">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
    <button onclick="changeLang('fr')">ğŸ‡«ğŸ‡· FranÃ§ais</button>
    <button onclick="changeLang('de')">ğŸ‡©ğŸ‡ª Deutsch</button>
    <button onclick="changeLang('ru')">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
    <button onclick="changeLang('ar')">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
    <button onclick="changeLang('hi')">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
  </div>
</div>

<h1 id="title"></h1>
<div id="instruction"></div>
<div class="message" id="message"></div>

</header>

<div class="card-group" id="cards"></div>

<div class="admin-panel" id="adminPanel">
<h2>Statistics</h2>
<table id="statsTable"></table>
<button onclick="clearStats()">Clear Data</button>
</div>

<script>

/* ================= LANGUAGE ================= */

let currentLang="th";
let resetTimer=null;
const adminPassword="1234";

const langMap={
th:"th-TH", en:"en-US", zh:"zh-CN", ja:"ja-JP", ko:"ko-KR",
es:"es-ES", fr:"fr-FR", de:"de-DE", ru:"ru-RU",
ar:"ar-SA", hi:"hi-IN"
};

const translations={
th:{title:"à¸ªà¸´à¹ˆà¸‡à¸‚à¸­à¸‡à¸«à¹‰à¸²à¸¡à¹‚à¸«à¸¥à¸”à¹ƒà¸•à¹‰à¸—à¹‰à¸­à¸‡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡",instruction:"à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¸ªà¸´à¹ˆà¸‡à¸‚à¸­à¸‡",
items:["à¸à¸²à¸§à¹€à¸§à¸­à¸£à¹Œà¹à¸šà¸‡à¸„à¹Œ","à¹à¸šà¸•à¹€à¸•à¸­à¸£à¸µà¹ˆ","à¸šà¸¸à¸«à¸£à¸µà¹ˆà¹„à¸Ÿà¸Ÿà¹‰à¸²","à¹‚à¸™à¹‰à¸•à¸šà¸¸à¹Šà¸","à¹„à¸Ÿà¹à¸Šà¹‡à¸","à¸§à¸±à¸•à¸–à¸¸à¸£à¸°à¹€à¸šà¸´à¸”","à¸ªà¸²à¸£à¹€à¸„à¸¡à¸µ","à¸­à¸²à¸§à¸¸à¸˜","à¹„à¸¡à¹ˆà¹à¸™à¹ˆà¹ƒà¸ˆ"],
warning:"âŒ à¸«à¹‰à¸²à¸¡à¹‚à¸«à¸¥à¸”à¹ƒà¸•à¹‰à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡",warningSpeak:"à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹‚à¸«à¸¥à¸”à¹ƒà¸•à¹‰à¸—à¹‰à¸­à¸‡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¹„à¸”à¹‰ à¸à¸£à¸¸à¸“à¸²à¸–à¸·à¸­à¸‚à¸¶à¹‰à¸™à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡",
ask:"âš  à¹‚à¸›à¸£à¸”à¸ªà¸­à¸šà¸–à¸²à¸¡à¹€à¸ˆà¹‰à¸²à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ",askSpeak:"à¸à¸£à¸¸à¸“à¸²à¸ªà¸­à¸šà¸–à¸²à¸¡à¹€à¸ˆà¹‰à¸²à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ"},
en:{title:"Prohibited Items",instruction:"Select an item",
items:["Power Bank","Battery","E-Cigarette","Laptop","Lighter","Explosives","Chemical","Weapon","Unsure Item"],
warning:"âŒ Prohibited",warningSpeak:"This item is not permitted in checked baggage.",
ask:"âš  Ask staff",askSpeak:"Please ask airport staff."}
};

/* ================= AUDIO ENGINE ================= */

let voices=[];
let voicesReady=false;
let audioUnlocked=false;
let queue=[];
let speaking=false;

function initVoices(){
  function load(){
    voices=speechSynthesis.getVoices();
    if(voices.length>0){voicesReady=true;}
    else{setTimeout(load,200);}
  }
  load();
}
speechSynthesis.onvoiceschanged=initVoices;
initVoices();

function unlockAudio(){
  if(!audioUnlocked){
    let temp=new SpeechSynthesisUtterance("");
    speechSynthesis.speak(temp);
    speechSynthesis.cancel();
    audioUnlocked=true;
  }
}

function getVoice(){
  let code=langMap[currentLang];
  let short=code.split("-")[0];
  let filtered=voices.filter(v=>v.lang.startsWith(short));
  return filtered[0]||voices[0];
}

function speak(text){
  queue.push(text);
  if(!speaking) processQueue();
}

function processQueue(){
  if(queue.length===0){speaking=false;return;}
  if(!voicesReady){setTimeout(processQueue,300);return;}

  speaking=true;
  speechSynthesis.cancel();
  let utter=new SpeechSynthesisUtterance(queue.shift());
  utter.lang=langMap[currentLang];
  utter.voice=getVoice();
  utter.rate=0.95;

  utter.onend=()=>processQueue();
  utter.onerror=()=>setTimeout(()=>speechSynthesis.speak(utter),200);

  speechSynthesis.speak(utter);
}

/* ================= UI ================= */

function renderCards(){
  let container=document.getElementById("cards");
  container.innerHTML="";
  translations[currentLang].items.forEach((item,i)=>{
    let card=document.createElement("div");
    card.className="card";
    card.innerHTML="<p>"+item+"</p>";
    card.onclick=()=>selectItem(i);
    container.appendChild(card);
  });
}

function selectItem(i){
  document.querySelectorAll(".card").forEach(c=>c.classList.remove("selected"));
  document.querySelectorAll(".card")[i].classList.add("selected");

  let data=translations[currentLang];
  let msg=document.getElementById("message");

  if(i===8){
    msg.innerText=data.ask;
    msg.classList.remove("alert");
    speak(data.askSpeak);
  }else{
    msg.innerText=data.warning;
    msg.classList.add("alert");
    speak(data.warningSpeak);
  }

  clearTimeout(resetTimer);
  resetTimer=setTimeout(resetAll,15000);
}

function changeLang(lang){
  currentLang=lang;
  document.body.dir=(lang==="ar")?"rtl":"ltr";
  document.getElementById("title").innerText=translations[lang].title;
  document.getElementById("instruction").innerText=translations[lang].instruction;
  renderCards();
  resetAll();
  speak(translations[lang].instruction);
  toggleLangMenu();
}

function resetAll(){
  document.querySelectorAll(".card").forEach(c=>c.classList.remove("selected"));
  document.getElementById("message").innerText="";
}

function toggleMenu(){
  let m=document.getElementById("menu");
  m.style.display=m.style.display==="block"?"none":"block";
}

function toggleLangMenu(){
  document.getElementById("langMenu").classList.toggle("show");
}

document.addEventListener("click",function(e){
  if(!e.target.closest(".lang-center")){
    document.getElementById("langMenu").classList.remove("show");
  }
  if(!e.target.closest(".top-bar")){
    document.getElementById("menu").style.display="none";
  }
});

function toggleFullscreen(){
  document.documentElement.requestFullscreen();
}

function openAdmin(){
  let pass=prompt("Enter Admin Password:");
  if(pass===adminPassword){
    let panel=document.getElementById("adminPanel");
    panel.style.display=panel.style.display==="block"?"none":"block";
  }else{
    alert("Wrong password");
  }
}

changeLang("th");

</script>
</body>
</html>
